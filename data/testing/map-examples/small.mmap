transformation BPCInvoice2OAGIS {
  source  "urn:oasis:names:specification:ubl:schema:xsd:Invoice-2" : BPCinvoice;
  target  "urn:oagis-10.6:Invoice"                                 : OAGISinvoice;                                
  library "urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2" : UBLcac;
  library "urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"     : UBLcbc;  
  metadata {id : "some-uuid", version : "1.0"};

  bpci : BPCinvoice;
  one  : int = 1;

  top relation invoice2invoiceMap (bpci : BPCinvoice) : OAGISinvoice.Invoice
     "Map the whole BPC Invoice to an OAGIS Invoice."

     { bpci.BPC2InvoiceHeaderMap();       // BPCinvoice has no header.
       [line.BPC2InvoiceLineMap() for line in [x for x in bpci.children() where x.type() == UBLcac.InvoiceLine]];
     }
}
